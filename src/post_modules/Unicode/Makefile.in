# $Id: Makefile.in,v 1.1 2001/06/21 03:13:24 per Exp $
@make_variables@
VPATH=@srcdir@:@srcdir@/../..:../..
OBJS=unicode_module.o normalize.o split.o buffer.o
MODULE_LDFLAGS=@LDFLAGS@ @LIBS@
CONFIG_HEADERS=@CONFIG_HEADERS@
@dynamic_module_makefile@

UNICODEDATA=../../UnicodeData.txt

$(SRCDIR)/unicode_module.c: $(SRCDIR)/unicode_module.cmod
	$(RUNPIKE) $(TMP_BINDIR)/precompile.pike >"$@" "$<" || { rm "$@"; exit 1; }

$(SRCDIR)/decompositions.h: $(SRCDIR)/make_decompose.pike
	 $(RUNPIKE) $(SRCDIR)/make_decompose.pike 		\
                    < $(SRCDIR)/$(UNICODEDATA) > "$@" || { rm "$@"; exit 1; }

$(SRCDIR)/canonicals.h: $(SRCDIR)/make_canonicals.pike
	 $(RUNPIKE) $(SRCDIR)/make_canonicals.pike 		\
                    < $(SRCDIR)/$(UNICODEDATA) > "$@" || { rm "$@"; exit 1; }

$(SRCDIR)/wordbits.h: $(SRCDIR)/make_wordbits.pike
	 $(RUNPIKE) $(SRCDIR)/make_wordbits.pike 		\
                    < $(SRCDIR)/$(UNICODEDATA) > "$@" || { rm "$@"; exit 1; }

unicode_module.o: $(SRCDIR)/unicode_module.c $(SRCDIR)/wordbits.h         \
		  $(SRCDIR)/canonicals.h     			\
		  $(SRCDIR)/decompositions.h


@dependencies@
