#!/bin/sh

# Bootstrap script

need_to_make_depend=no

fix()
{
  if [ -f $1/acconfig.h ]; then
    echo "Running autoheader in $1"
    ( cd $1 ; autoheader )
  fi

  if [ -f $1/configure.in ]; then
    echo "Running autoconf in $1"
    ( cd $1 ; autoconf )
  fi

  if [ ! -f $1/dependencies ]; then
    need_to_make_depend=yes
  fi
}


fix .
fix modules
for a in modules/*
do
  if test -d $a ; then
    case $a in
      */CVS) ;;
      */RCS) ;;
      *) fix $a ;;
    esac
  fi
done

if test x$need_to_make_depend = xyes ; then
  echo You need to run \"make depend\" after \"configure\", and then \"configure\" again.
else :; fi