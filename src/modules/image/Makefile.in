SRCDIR=@srcdir@
VPATH=@srcdir@:@srcdir@/../..:../..
PREFLAGS=-I$(SRCDIR) -I$(SRCDIR)/../.. -I../..
CFLAGS=$(PREFLAGS) $(OTHERFLAGS) @DEFS@

FILES=image.o font.o quant.o lzw.o togif.o

image.a: $(FILES)
	-rm -f image.a
	ar cq image.a $(FILES)
	-@RANLIB@ image.a

clean:
	-rm -f *.o *.a

pike: image.a
	cd ../..; make

pure: image.a
	cd ../..; make pure


depend:
	gcc -MM $(PREFLAGS) $(SRCDIR)/*.c | $(FIXDEP) $(SRCDIR)

# Depencies begin here
font.o: font.c \
 global.h machine.h \
 config.h \
 port.h \
 stralloc.h \
 macros.h \
 object.h \
 svalue.h \
 constants.h \
 hashtable.h \
 las.h \
 dynamic_buffer.h \
 program.h \
 interpret.h \
 array.h \
 image.h
image.o: image.c \
 stralloc.h \
 types.h machine.h \
 global.h \
 config.h \
 port.h \
 macros.h \
 object.h \
 svalue.h \
 constants.h \
 hashtable.h \
 las.h \
 dynamic_buffer.h \
 program.h \
 interpret.h \
 array.h \
 error.h \
 image.h
lzw.o: lzw.c \
 lzw.h
quant.o: quant.c \
 types.h machine.h \
 image.h \
 error.h \
 svalue.h \
 global.h \
 config.h \
 port.h
togif.o: togif.c \
 stralloc.h \
 types.h machine.h \
 global.h \
 config.h \
 port.h \
 dynamic_buffer.h \
 image.h \
 lzw.h
