# $Id: configure.in,v 1.2 2000/11/27 12:21:25 mirar Exp $
AC_INIT(gettext.c)
AC_CONFIG_HEADER(config.h)

AC_MODULE_INIT()

AC_HAVE_HEADERS(locale.h libintl.h)

########################################################################
#   gettext checking (localization)
########################################################################

AC_CHECK_FUNCS(setlocale)
AC_CHECK_FUNC(gettext,
              [AC_DEFINE(HAVE_GETTEXT)],
              [AC_CHECK_LIB(intl, gettext,
                            [LIBS="$LIBS -lintl"
                             AC_DEFINE(HAVE_GETTEXT)],
                            [INTLIBS=""])])

AC_ARG_WITH(nlsdir, 
	[  --with-nlsdir=PATH      specify where the locale stuff should go ])


if test "x$NLSDIR" = "x"; then
	if test "x$with_nlsdir" != "x"; then
		NLSDIR=$with_nlsdir
	else
		NLSDIR='$(prefix)/share/locale'
	fi
fi
AC_SUBST(NLSDIR)

AC_OUTPUT(Makefile,echo FOO >stamp-h )
